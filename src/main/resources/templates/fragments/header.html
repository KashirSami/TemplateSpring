<!-- src/main/resources/templates/fragments/header.html -->
<div th:fragment="siteHeader">
  <nav class="navbar">
    <!-- ================================
         1) Bloque izquierdo: hamburguesa + logo
         ====================================== -->
    <div class="navbar-left">
      <!-- Solo si el usuario está logueado mostramos el botón hamburguesa -->
      <div th:if="${session.userEmail}" class="user-hamburger-container">
        <button class="hamburger-btn" aria-label="Abrir menú de usuario">
          <span class="hamburger-icon"></span>
          <span class="hamburger-icon"></span>
          <span class="hamburger-icon"></span>
        </button>
      </div>

      <!-- El logo siempre estará visible -->
      <a th:href="@{/}" class="logo">Mi<span>Ecommerce</span></a>
    </div>

    <!-- ================================
         2) Menú principal (links)
         ====================================== -->
    <ul class="nav-links">
      <li><a th:href="@{/}">Inicio</a></li>
      <li><a th:href="@{/products}">Productos</a></li>
      <li><a th:href="@{/about}">Nosotros</a></li>
      <li><a th:href="@{/contact}">Contacto</a></li>
    </ul>

    <!-- ================================
         3) Bloque derecho: usuario o botones de login
         ====================================== -->
    <!-- Si NO está autenticado, muestro botones de login / register -->
    <div th:unless="${session.userEmail}" class="auth-buttons">
      <a th:href="@{/login}" class="btn">Iniciar sesión</a>
    </div>
  </nav>

  <div th:if="${session.userEmail}" class="side-menu">
    <ul>
      <li><a th:href="@{/profile}">Perfil</a></li>
      <li><a th:href="@{/orders/history}">Historial de Pedidos</a></li>
      <li><a th:href="@{/privacy-policy}">Política / Privacidad</a></li>
      <li class="logout-item">
        <a th:href="@{/logout}" class="logout-link">Cerrar sesión</a>
      </li>
    </ul>
  </div>

  <div th:if="${session.userEmail}">
    <script th:src="@{/js/header-menu.js}"></script>
  </div>
</div>
